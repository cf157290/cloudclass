<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>网上班课-活动列表</title>
    <head th:insert="~{import :: head}"></head>
</head>
<body>
    <div th:insert="~{navigation::nav}"></div>
    <div th:fragment="classhead">

        <div class="container-fluid">
            <div class="row" style="height: 150px">
                <!--            卡片组-->
                <div class="card">
                    <img src="/img/mainclass.jpg" class="card-img-top" style="height: 150px">
                    <div class="card-img-overlay">
                        <div class="row">
                            <div class="col-md-3 col-4 d-flex justify-content-end">
                                <img src="/img/logo.png" class="img-thumbnail" style="width: 120px;height: 120px" alt="">
                            </div>
                            <div class="col-md-9 col-8">
                                <div class="row" style="height: 50px">
                                    <h5 class="mt-3">院系班级</h5>
                                </div>
                                <div class="row" style="height: 35px">
                                    <small>班课名称</small>
                                    <small class="ml-3" th:if="${session.user.getUid()} == ${teacherid}">邀请码</small>
                                    <span hidden th:text="${cid}" id="cid"></span>
                                    <span hidden th:text="${teacherid}" id="teacherid"></span>
                                </div>
                                <div class="row" style="height: 35px">
                                    <button class="btn btn-primary" style="width: 100px;height: 35px" th:if="${session.user.getUid()} != ${teacherid}">签到</button>
                                    <div class="dropdown" th:if="${session.user.getUid()} == ${teacherid}">
                                        <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" style="height: 35px">
                                            教师操作
                                        </button>
                                        <div class="dropdown-menu">
                                            <a class="dropdown-item" href="#">发起签到</a>
                                            <a class="dropdown-item" href="#">发布通知</a>
                                            <a class="dropdown-item" href="#" data-toggle="modal" data-target="#create_activity">发起活动</a>
                                            <a class="dropdown-item" href="#" data-toggle="modal" data-target="#up">上传资源</a>
                                            <a class="dropdown-item" href="#">导出学生平时成绩</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row d-flex justify-content-center bg-light" style="height: 50px">
                <div class="mt-2">
                    <ul class="nav nav-tabs">
                        <li class="nav-item navclass">
                            <a href="resources.html" class="nav-link ziyuan" data-toggle="tab">资源</a>
                        </li>
                        <li class="nav-item navclass">
                            <a href="member.html" class="nav-link chengyuan" data-toggle="tab" data-target="#tab2">成员</a>
                        </li>
                        <li class="nav-item navclass">
                            <a href="activity.html" class="nav-link huodong active" data-toggle="tab">活动</a>
                        </li>
                        <li class="nav-item navclass">
                            <a href="message.html" class="nav-link xiaoxi" data-toggle="tab">消息</a>
                        </li>
                        <li class="nav-item navclass">
                            <a href="details.html" class="nav-link xiangqing" data-toggle="tab">详情</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <!--上传资源模态框-->
        <div class="modal fade" tabindex="-1" id="up" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">提示</h5>
                        <button class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <input type="text"class="form-control" placeholder="文件名称(选填)">
                        <input type="file" class="form-control file-loading" id="upfile">
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-secondary" data-dismiss="modal">取消</button>
                        <button class="btn btn-primary">确定</button>
                    </div>
                </div>
            </div>
        </div>
        <!--选择活动类型模态框-->
        <div class="modal fade" tabindex="-1" id="create_activity" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">提示</h5>
                        <button class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <p>请选择要发起的活动类型</p>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-secondary" data-dismiss="modal">取消</button>
                        <button class="btn btn-primary">描述题</button>
                        <a th:href="@{'/initse/'+${cid}+'/'+${teacherid}}">
                            <button class="btn btn-primary">选择题</button>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <script>
            $(document).ready(function() {
                $("#upfile").fileinput({
                    showUpload: false,
                    dropZoneEnabled: false,
                    maxFileCount: 1,
                    mainClass: "input-group-lg",
                    allowedFileExtensions: ['jpg', 'gif', 'png'],//接收的文件后缀
                    showRemove :true,//显示一处按钮
                    language: 'zh', //设置语言
                    maxFileSize: 1024*10//文件大小
                });
            });
        </script>

    </div>

</body>

</html>